import{_ as n,c as a,a as e,o as p}from"./app-BWVSN1gI.js";const t={};function l(i,s){return p(),a("div",null,s[0]||(s[0]=[e(`<h1 id="api-文档" tabindex="-1"><a class="header-anchor" href="#api-文档"><span>API 文档</span></a></h1><h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h2><p>邮件模板分析系统提供完整的RESTful API接口，支持邮件发送、模板管理、数据分析等功能。</p><h2 id="认证" tabindex="-1"><a class="header-anchor" href="#认证"><span>认证</span></a></h2><h3 id="api密钥认证" tabindex="-1"><a class="header-anchor" href="#api密钥认证"><span>API密钥认证</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">Authorization: Bearer YOUR_API_KEY</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="请求头" tabindex="-1"><a class="header-anchor" href="#请求头"><span>请求头</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&#39;Authorization&#39;</span><span class="token operator">:</span> <span class="token string">&#39;Bearer YOUR_API_KEY&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&#39;X-Request-ID&#39;</span><span class="token operator">:</span> <span class="token string">&#39;unique-request-id&#39;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="基础url" tabindex="-1"><a class="header-anchor" href="#基础url"><span>基础URL</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">https://api.email-analyzer.com/v1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="邮件发送api" tabindex="-1"><a class="header-anchor" href="#邮件发送api"><span>邮件发送API</span></a></h2><h3 id="发送单封邮件" tabindex="-1"><a class="header-anchor" href="#发送单封邮件"><span>发送单封邮件</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line">POST /emails/send</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>请求体：</strong></p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;recipient@example.com&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;subject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;邮件主题&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;template_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;template_123&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;variables&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;company&quot;</span><span class="token operator">:</span> <span class="token string">&quot;示例公司&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;track_opens&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;track_clicks&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;priority&quot;</span><span class="token operator">:</span> <span class="token string">&quot;high&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应：</strong></p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;message_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;msg_123456&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;queued&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;estimated_delivery&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-15T10:30:00Z&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="批量发送邮件" tabindex="-1"><a class="header-anchor" href="#批量发送邮件"><span>批量发送邮件</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line">POST /emails/batch</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>请求体：</strong></p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;template_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;template_123&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;recipients&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;user1@example.com&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;variables&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;用户1&quot;</span><span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;user2@example.com&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">      <span class="token property">&quot;variables&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;用户2&quot;</span><span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;batch_size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;delay_between_batches&quot;</span><span class="token operator">:</span> <span class="token number">60</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="模板管理api" tabindex="-1"><a class="header-anchor" href="#模板管理api"><span>模板管理API</span></a></h2><h3 id="获取模板列表" tabindex="-1"><a class="header-anchor" href="#获取模板列表"><span>获取模板列表</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line">GET /templates?page=1&amp;limit=20&amp;category=marketing</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>响应：</strong></p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;templates&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;template_123&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;欢迎邮件模板&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;category&quot;</span><span class="token operator">:</span> <span class="token string">&quot;welcome&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01T00:00:00Z&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;updated_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-15T00:00:00Z&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;pagination&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;page&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;limit&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;pages&quot;</span><span class="token operator">:</span> <span class="token number">8</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建模板" tabindex="-1"><a class="header-anchor" href="#创建模板"><span>创建模板</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line">POST /templates</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>请求体：</strong></p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;新模板&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;category&quot;</span><span class="token operator">:</span> <span class="token string">&quot;marketing&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;subject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{{subject}}&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;html_content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;html&gt;...&lt;/html&gt;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;text_content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;纯文本内容&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;variables&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;company&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;product&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="更新模板" tabindex="-1"><a class="header-anchor" href="#更新模板"><span>更新模板</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line">PUT /templates/{template_id}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="删除模板" tabindex="-1"><a class="header-anchor" href="#删除模板"><span>删除模板</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line">DELETE /templates/{template_id}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="数据分析api" tabindex="-1"><a class="header-anchor" href="#数据分析api"><span>数据分析API</span></a></h2><h3 id="获取发送统计" tabindex="-1"><a class="header-anchor" href="#获取发送统计"><span>获取发送统计</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line">GET /analytics/send-stats?start_date=2024-01-01&amp;end_date=2024-01-31</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>响应：</strong></p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;period&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;start_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;end_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-31&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;stats&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;total_sent&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;delivered&quot;</span><span class="token operator">:</span> <span class="token number">9800</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;bounced&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;opened&quot;</span><span class="token operator">:</span> <span class="token number">4900</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;clicked&quot;</span><span class="token operator">:</span> <span class="token number">2450</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;unsubscribed&quot;</span><span class="token operator">:</span> <span class="token number">50</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;rates&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;delivery_rate&quot;</span><span class="token operator">:</span> <span class="token number">98.0</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;open_rate&quot;</span><span class="token operator">:</span> <span class="token number">50.0</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;click_rate&quot;</span><span class="token operator">:</span> <span class="token number">25.0</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;bounce_rate&quot;</span><span class="token operator">:</span> <span class="token number">2.0</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;unsubscribe_rate&quot;</span><span class="token operator">:</span> <span class="token number">0.5</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="获取打开率趋势" tabindex="-1"><a class="header-anchor" href="#获取打开率趋势"><span>获取打开率趋势</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line">GET /analytics/open-rate?template_id=template_123&amp;days=30</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="获取点击率数据" tabindex="-1"><a class="header-anchor" href="#获取点击率数据"><span>获取点击率数据</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line">GET /analytics/click-rate?campaign_id=campaign_123</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="用户管理api" tabindex="-1"><a class="header-anchor" href="#用户管理api"><span>用户管理API</span></a></h2><h3 id="获取用户列表" tabindex="-1"><a class="header-anchor" href="#获取用户列表"><span>获取用户列表</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line">GET /users?page=1&amp;limit=20&amp;status=active</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="添加用户" tabindex="-1"><a class="header-anchor" href="#添加用户"><span>添加用户</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line">POST /users</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>请求体：</strong></p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;user@example.com&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;first_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;张&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;last_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;三&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;company&quot;</span><span class="token operator">:</span> <span class="token string">&quot;示例公司&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vip&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;newsletter&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="更新用户" tabindex="-1"><a class="header-anchor" href="#更新用户"><span>更新用户</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line">PUT /users/{user_id}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="删除用户" tabindex="-1"><a class="header-anchor" href="#删除用户"><span>删除用户</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line">DELETE /users/{user_id}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="错误处理" tabindex="-1"><a class="header-anchor" href="#错误处理"><span>错误处理</span></a></h2><h3 id="错误响应格式" tabindex="-1"><a class="header-anchor" href="#错误响应格式"><span>错误响应格式</span></a></h3><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;INVALID_EMAIL&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;邮箱地址格式不正确&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;invalid-email&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;request_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;req_123456&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="常见错误码" tabindex="-1"><a class="header-anchor" href="#常见错误码"><span>常见错误码</span></a></h3><table><thead><tr><th>错误码</th><th>描述</th><th>HTTP状态码</th></tr></thead><tbody><tr><td><code>INVALID_API_KEY</code></td><td>API密钥无效</td><td>401</td></tr><tr><td><code>RATE_LIMIT_EXCEEDED</code></td><td>请求频率超限</td><td>429</td></tr><tr><td><code>INVALID_EMAIL</code></td><td>邮箱地址格式错误</td><td>400</td></tr><tr><td><code>TEMPLATE_NOT_FOUND</code></td><td>模板不存在</td><td>404</td></tr><tr><td><code>INSUFFICIENT_QUOTA</code></td><td>配额不足</td><td>402</td></tr></tbody></table><h2 id="速率限制" tabindex="-1"><a class="header-anchor" href="#速率限制"><span>速率限制</span></a></h2><h3 id="限制规则" tabindex="-1"><a class="header-anchor" href="#限制规则"><span>限制规则</span></a></h3><ul><li><strong>免费用户</strong>: 1000次/小时</li><li><strong>基础用户</strong>: 10000次/小时</li><li><strong>专业用户</strong>: 100000次/小时</li><li><strong>企业用户</strong>: 无限制</li></ul><h3 id="响应头" tabindex="-1"><a class="header-anchor" href="#响应头"><span>响应头</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line"><span class="token header"><span class="token header-name keyword">X-RateLimit-Limit</span><span class="token punctuation">:</span> <span class="token header-value">1000</span></span></span>
<span class="line"><span class="token header"><span class="token header-name keyword">X-RateLimit-Remaining</span><span class="token punctuation">:</span> <span class="token header-value">999</span></span></span>
<span class="line"><span class="token header"><span class="token header-name keyword">X-RateLimit-Reset</span><span class="token punctuation">:</span> <span class="token header-value">1642233600</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="webhook" tabindex="-1"><a class="header-anchor" href="#webhook"><span>Webhook</span></a></h2><h3 id="配置webhook" tabindex="-1"><a class="header-anchor" href="#配置webhook"><span>配置Webhook</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="prismjs" data-ext="http"><pre><code><span class="line">POST /webhooks</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>请求体：</strong></p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://your-domain.com/webhook&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;events&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;email.delivered&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;email.opened&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;email.clicked&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;your-webhook-secret&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="webhook事件" tabindex="-1"><a class="header-anchor" href="#webhook事件"><span>Webhook事件</span></a></h3><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;email.opened&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-15T10:30:00Z&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;message_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;msg_123456&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;user@example.com&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;template_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;template_123&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;user_agent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Mozilla/5.0...&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;ip_address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;192.168.1.1&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="sdk示例" tabindex="-1"><a class="header-anchor" href="#sdk示例"><span>SDK示例</span></a></h2><h3 id="javascript-sdk" tabindex="-1"><a class="header-anchor" href="#javascript-sdk"><span>JavaScript SDK</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> EmailAPI <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@email-analyzer/sdk&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> api <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EmailAPI</span><span class="token punctuation">(</span><span class="token string">&#39;YOUR_API_KEY&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 发送邮件</span></span>
<span class="line"><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">sendEmail</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;user@example.com&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">template_id</span><span class="token operator">:</span> <span class="token string">&#39;template_123&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">variables</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;张三&#39;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 获取统计数据</span></span>
<span class="line"><span class="token keyword">const</span> stats <span class="token operator">=</span> <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">getSendStats</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">start_date</span><span class="token operator">:</span> <span class="token string">&#39;2024-01-01&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">end_date</span><span class="token operator">:</span> <span class="token string">&#39;2024-01-31&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="python-sdk" tabindex="-1"><a class="header-anchor" href="#python-sdk"><span>Python SDK</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> email_analyzer <span class="token keyword">import</span> EmailAPI</span>
<span class="line"></span>
<span class="line">api <span class="token operator">=</span> EmailAPI<span class="token punctuation">(</span><span class="token string">&#39;YOUR_API_KEY&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 发送邮件</span></span>
<span class="line">result <span class="token operator">=</span> api<span class="token punctuation">.</span>send_email<span class="token punctuation">(</span></span>
<span class="line">    to<span class="token operator">=</span><span class="token string">&#39;user@example.com&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    template_id<span class="token operator">=</span><span class="token string">&#39;template_123&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    variables<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 获取统计数据</span></span>
<span class="line">stats <span class="token operator">=</span> api<span class="token punctuation">.</span>get_send_stats<span class="token punctuation">(</span></span>
<span class="line">    start_date<span class="token operator">=</span><span class="token string">&#39;2024-01-01&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    end_date<span class="token operator">=</span><span class="token string">&#39;2024-01-31&#39;</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="最佳实践" tabindex="-1"><a class="header-anchor" href="#最佳实践"><span>最佳实践</span></a></h2><h3 id="性能优化" tabindex="-1"><a class="header-anchor" href="#性能优化"><span>性能优化</span></a></h3><ol><li><strong>批量操作</strong> - 使用批量API减少请求次数</li><li><strong>异步处理</strong> - 对于大量邮件使用异步发送</li><li><strong>缓存模板</strong> - 缓存常用模板减少API调用</li><li><strong>错误重试</strong> - 实现指数退避重试机制</li></ol><h3 id="安全建议" tabindex="-1"><a class="header-anchor" href="#安全建议"><span>安全建议</span></a></h3><ol><li><strong>保护API密钥</strong> - 不要在客户端代码中暴露API密钥</li><li><strong>验证输入</strong> - 验证所有用户输入数据</li><li><strong>HTTPS传输</strong> - 始终使用HTTPS进行API调用</li><li><strong>监控异常</strong> - 监控异常的API调用模式</li></ol><h3 id="开发建议" tabindex="-1"><a class="header-anchor" href="#开发建议"><span>开发建议</span></a></h3><ol><li><strong>使用SDK</strong> - 优先使用官方SDK</li><li><strong>处理错误</strong> - 正确处理所有可能的错误情况</li><li><strong>日志记录</strong> - 记录重要的API调用和错误</li><li><strong>测试环境</strong> - 在测试环境中充分测试API功能</li></ol>`,83)]))}const c=n(t,[["render",l]]),r=JSON.parse('{"path":"/email/api.html","title":"API 文档","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"概述","slug":"概述","link":"#概述","children":[]},{"level":2,"title":"认证","slug":"认证","link":"#认证","children":[{"level":3,"title":"API密钥认证","slug":"api密钥认证","link":"#api密钥认证","children":[]},{"level":3,"title":"请求头","slug":"请求头","link":"#请求头","children":[]}]},{"level":2,"title":"基础URL","slug":"基础url","link":"#基础url","children":[]},{"level":2,"title":"邮件发送API","slug":"邮件发送api","link":"#邮件发送api","children":[{"level":3,"title":"发送单封邮件","slug":"发送单封邮件","link":"#发送单封邮件","children":[]},{"level":3,"title":"批量发送邮件","slug":"批量发送邮件","link":"#批量发送邮件","children":[]}]},{"level":2,"title":"模板管理API","slug":"模板管理api","link":"#模板管理api","children":[{"level":3,"title":"获取模板列表","slug":"获取模板列表","link":"#获取模板列表","children":[]},{"level":3,"title":"创建模板","slug":"创建模板","link":"#创建模板","children":[]},{"level":3,"title":"更新模板","slug":"更新模板","link":"#更新模板","children":[]},{"level":3,"title":"删除模板","slug":"删除模板","link":"#删除模板","children":[]}]},{"level":2,"title":"数据分析API","slug":"数据分析api","link":"#数据分析api","children":[{"level":3,"title":"获取发送统计","slug":"获取发送统计","link":"#获取发送统计","children":[]},{"level":3,"title":"获取打开率趋势","slug":"获取打开率趋势","link":"#获取打开率趋势","children":[]},{"level":3,"title":"获取点击率数据","slug":"获取点击率数据","link":"#获取点击率数据","children":[]}]},{"level":2,"title":"用户管理API","slug":"用户管理api","link":"#用户管理api","children":[{"level":3,"title":"获取用户列表","slug":"获取用户列表","link":"#获取用户列表","children":[]},{"level":3,"title":"添加用户","slug":"添加用户","link":"#添加用户","children":[]},{"level":3,"title":"更新用户","slug":"更新用户","link":"#更新用户","children":[]},{"level":3,"title":"删除用户","slug":"删除用户","link":"#删除用户","children":[]}]},{"level":2,"title":"错误处理","slug":"错误处理","link":"#错误处理","children":[{"level":3,"title":"错误响应格式","slug":"错误响应格式","link":"#错误响应格式","children":[]},{"level":3,"title":"常见错误码","slug":"常见错误码","link":"#常见错误码","children":[]}]},{"level":2,"title":"速率限制","slug":"速率限制","link":"#速率限制","children":[{"level":3,"title":"限制规则","slug":"限制规则","link":"#限制规则","children":[]},{"level":3,"title":"响应头","slug":"响应头","link":"#响应头","children":[]}]},{"level":2,"title":"Webhook","slug":"webhook","link":"#webhook","children":[{"level":3,"title":"配置Webhook","slug":"配置webhook","link":"#配置webhook","children":[]},{"level":3,"title":"Webhook事件","slug":"webhook事件","link":"#webhook事件","children":[]}]},{"level":2,"title":"SDK示例","slug":"sdk示例","link":"#sdk示例","children":[{"level":3,"title":"JavaScript SDK","slug":"javascript-sdk","link":"#javascript-sdk","children":[]},{"level":3,"title":"Python SDK","slug":"python-sdk","link":"#python-sdk","children":[]}]},{"level":2,"title":"最佳实践","slug":"最佳实践","link":"#最佳实践","children":[{"level":3,"title":"性能优化","slug":"性能优化","link":"#性能优化","children":[]},{"level":3,"title":"安全建议","slug":"安全建议","link":"#安全建议","children":[]},{"level":3,"title":"开发建议","slug":"开发建议","link":"#开发建议","children":[]}]}],"git":{"updatedTime":1756004143000,"contributors":[{"name":"yma16","username":"yma16","email":"17685043634@163.com","commits":1,"url":"https://github.com/yma16"}],"changelog":[{"hash":"dfbade54f1ac2d2a5063df31aa711313405a7f5a","time":1756004143000,"email":"17685043634@163.com","author":"yma16","message":"feat: update doc"}]},"filePathRelative":"email/api.md"}');export{c as comp,r as data};
